## Tipos de Comunicación en Microservicios 📡

Comprender los tipos de comunicación es fundamental en la arquitectura de **microservicios**. Estos patrones no son nuevos y se usan tanto en aplicaciones monolíticas como en arquitecturas distribuidas.

Existen esencialmente dos tipos de comunicación:

1.  **Síncrona** (Synchronous)
2.  **Asíncrona** (Asynchronous)

***

## 1️⃣ Comunicación Síncrona (Synchronous)

La comunicación síncrona utiliza el **patrón de solicitud-respuesta** (Request-Response). Es el tipo de comunicación más común, similar al usado en aplicaciones monolíticas.

### 📌 Características

* El **cliente** envía una **solicitud** al servidor y **espera** una **respuesta** antes de poder continuar con otras tareas.
* Mientras espera la respuesta, el cliente **no puede hacer nada más** en la aplicación.
* Es el patrón utilizado para la comunicación de **cliente (frontend/móvil) a la API Gateway**.

### 💻 Protocolos y Uso

* Los protocolos comunes son **HTTP o HTTPS**.
* Se utiliza para la comunicación **cliente $\rightarrow$ API Gateway** y también puede usarse **entre microservicios** (si se decide usar HTTP para la comunicación interna).
* En la aplicación de ejemplo, toda la comunicación del frontend al API Gateway será síncrona, usando **HTTP/HTTPS**.

$$
\text{Cliente} \xrightarrow{\text{Solicitud}} \text{Servidor} \xrightarrow{\text{Respuesta}} \text{Cliente}
$$

***

## 2️⃣ Comunicación Asíncrona (Asynchronous)

La comunicación asíncrona no se basa estrictamente en el patrón de solicitud-respuesta donde el cliente espera. Implica que el cliente envía una solicitud o evento y **puede proceder con otras tareas** sin esperar inmediatamente una respuesta.

### 📌 Características

* El **cliente** envía una solicitud o **evento** y **continúa** con otras tareas, independientemente de si se requiere o no una respuesta.
* El cliente **no espera** la respuesta del servidor o de los servicios.
* Implica el uso de **eventos** o **colas de mensajes** (Message Queues).

### ⚙️ Protocolos y Tecnologías

* Utiliza el **Protocolo Avanzado de Colas de Mensajes (AMQP)** con **brokers de mensajes** como **Kafka** o **RabbitMQ**. En el proyecto de ejemplo, se usará **RabbitMQ**.
* El cliente envía el mensaje a una **cola** y los microservicios pertinentes **escuchan** y consumen ese evento.
* Otro ejemplo de comunicación asíncrona podría ser el uso de **WebSockets**.

### 🔁 Tipos de Comunicación Asíncrona

La comunicación puede ser:

1.  **Uno a Uno (One-to-One):**
    * Implica enviar un **mensaje directo** a un microservicio específico.
2.  **Uno a Muchos (One-to-Many):**
    * El cliente envía un evento o mensaje que es **escuchado y consumido** por **múltiples microservicios** o consumidores (patrón **Fan Out**).

$$
\text{Cliente} \xrightarrow{\text{Evento}} \text{Cola de Mensajes} \xrightarrow{\text{Evento}} \text{Microservicios Escuchando}
$$