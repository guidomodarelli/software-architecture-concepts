## Estilos de Comunicación en Arquitecturas de Microservicios

A continuación, se describen los **estilos de comunicación** que se emplean en la arquitectura de microservicios:

### 1. Request-Response

Este estilo es esencialmente una **comunicación síncrona**.

* **Propósito:** Se utiliza para **consultas en vivo** y **actualizaciones**.
* **Mecanismo:** El **cliente** envía una solicitud y **espera una respuesta**.
* **Flujo de la Solicitud:**
    * Los clientes (por ejemplo, una aplicación móvil) envían la solicitud.
    * **Todas las solicitudes** pasan a través de un **API Gateway**.
    * El API Gateway dirige la solicitud al **microservicio** correspondiente.
    * El cliente espera la respuesta.
* **Protocolo:** Utiliza **HTTP** para crear **APIs REST**.
* **Implementación:** Este estilo de comunicación se implementará en nuestra aplicación.

### 2. Push and Real-Time

Este estilo de comunicación es del tipo **one-to-many**.

* **Propósito:** Permite que el *backend* envíe mensajes a **múltiples consumidores** simultáneamente. Un ejemplo común son las **notificaciones *push***.
* **Mecanismo:** Un servicio envía un mensaje o evento, y todos los usuarios o servicios que estén "escuchando" ese evento lo reciben.
* **Protocolo Principal:** Mayormente utiliza **WebSockets** y **Socket.io** (aunque podría ser HTTP).
* **Implementación:** Se implementará **Socket.io** para enviar **eventos** desde los microservicios hacia el API Gateway y, de allí, al cliente. De esta forma, todos los **oyentes** de un evento específico en el cliente recibirán los datos enviados.

### 3. Asynchronous Event-Driven

Este es el estilo de comunicación que se utilizará **entre microservicios** (no a través del API Gateway).

* **Propósito:** Se utiliza para la **comunicación entre microservicios**, por ejemplo, entre el servicio de Autenticación y el de Pagos, o entre el de Productos y el del Carrito.
* **Mecanismo:** Se basa en el **patrón Publish-Subscribe**.
    * Un servicio **publica un evento** a través de un **Bus de Eventos** o una **Message Queue**.
    * **Todos los servicios** que estén **escuchando** ese evento en particular reciben los datos.
* **Implementación:**
    * La comunicación entre microservicios (por ejemplo, entre Autenticación y el servicio de Revisiones) se realizará **únicamente mediante eventos**, **no a través de HTTP**.
    * Nuestra aplicación utilizará este tipo de comunicación asíncrona.

---

### 💡 Resumen de Estilos de Comunicación

Los estilos de comunicación que se utilizarán en nuestra aplicación son:

1️⃣ **Request-Response** (Síncrona)
2️⃣ **Push and Real-Time**
3️⃣ **Asynchronous Event-Driven**